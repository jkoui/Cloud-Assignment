<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Spread Analysis</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-4">
        <h1 class="mb-4">Salary Spread Analysis</h1>

        <!-- Navbar with tabs -->
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link {% if active_tab == 'tab1' %}active{% endif %}" href="{{ url_for('function1') }}">Tab 1: Overview</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if active_tab == 'tab2' %}active{% endif %}" href="{{ url_for('function2') }}">Tab 2: Function 2</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if active_tab == 'tab3' %}active{% endif %}" href="{{ url_for('function3') }}">Tab 3: Function 3</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if active_tab == 'tab4' %}active{% endif %}" href="{{ url_for('function4') }}">Tab 4: Function 4</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if active_tab == 'tab5' %}active{% endif %}" href="{{ url_for('function5') }}">Tab 5: Function 5</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if active_tab == 'tab6' %}active{% endif %}" href="{{ url_for('function6') }}">Tab 6: Employment Rate vs Salary</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if active_tab == 'tab7' %}active{% endif %}" href="{{ url_for('function7') }}">Tab 7: FT Perm vs Salary</a>
            </li>
        </ul>

        <!-- Tab content -->
        <div class="tab-content mt-3">
            <div class="tab-pane {% if active_tab == 'tab1' %}active{% endif %}" id="tab1">
                <h3>Function 1 Content</h3>
            </div>

            <div class="tab-pane {% if active_tab == 'tab2' %}active{% endif %}" id="tab2">
                <h3>Function 2 Content</h3>
                <table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Degree</th>
                            <th>University</th>
                            <th>Year</th>
                            <th>IQR</th>
                            <th>IQR Ratio</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in data %}
                        <tr>
                            <td>{{ row.degree }}</td>
                            <td>{{ row.university }}</td>
                            <td>{{ row.year }}</td>
                            <td>{{ row.IQR }}</td>
                            <td>{{ row.IQR_ratio }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="tab-pane {% if active_tab == 'tab3' %}active{% endif %}" id="tab3">
                <h3>Function 3 Content</h3>
                <!-- Add your Function 3 content here -->
            </div>

            <div class="tab-pane {% if active_tab == 'tab4' %}active{% endif %}" id="tab4">
                <h3>Function 4 Content</h3>
                <!-- Add your Function 4 content here -->
            </div>

            <div class="tab-pane {% if active_tab == 'tab5' %}active{% endif %}" id="tab5">
                <h3>Function 5 Content</h3>
                <!-- Add your Function 5 content here -->
            </div>

            <div class="tab-pane {% if active_tab == 'tab6' %}active{% endif %}" id="tab6">
                <h3>Employment Rate vs Salary</h3>
                {% if correlation is not none %}
                <p><strong>Pearson correlation:</strong> {{ correlation }}</p>
                {% endif %}
                <table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Year</th>
                            <th>University</th>
                            <th>School</th>
                            <th>Degree</th>
                            <th>Employment Rate Overall</th>
                            <th>Gross Monthly Median</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in data %}
                        <tr>
                            <td>{{ row.year }}</td>
                            <td>{{ row.university }}</td>
                            <td>{{ row.school }}</td>
                            <td>{{ row.degree }}</td>
                            <td>{{ row.employment_rate_overall }}</td>
                            <td>{{ row.gross_monthly_median }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="tab-pane {% if active_tab == 'tab7' %}active{% endif %}" id="tab7">
                <h3>Full-Time Permanent Employment vs Salary</h3>
                {% if correlation is not none %}
                <p><strong>Pearson correlation:</strong> {{ correlation }}</p>
                {% endif %}
                <table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Year</th>
                            <th>University</th>
                            <th>School</th>
                            <th>Degree</th>
                            <th>Employment Rate FT Perm</th>
                            <th>Gross Monthly Median</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in data %}
                        <tr>
                            <td>{{ row.year }}</td>
                            <td>{{ row.university }}</td>
                            <td>{{ row.school }}</td>
                            <td>{{ row.degree }}</td>
                            <td>{{ row.employment_rate_ft_perm }}</td>
                            <td>{{ row.gross_monthly_median }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Optional: Add JavaScript for Bootstrap functionality -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
